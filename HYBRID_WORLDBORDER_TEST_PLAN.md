# ハイブリッドWorldBorderシステム テスト計画

## 実装内容

### 1. WorldBorderの視覚効果のみ使用
- **WorldBorderダメージ無効化**: `worldBorder.damageAmount = 0.0`
- **視覚効果**: 赤い壁のエフェクトは維持
- **警告設定**: 
  - 警告距離: 50ブロック
  - 警告時間: 30秒

### 2. カスタムダメージシステム
- **ゲームモード別の処理**:
  - **CREATIVE/SPECTATOR**: 警告メッセージのみ（ダメージなし）
  - **SURVIVAL/ADVENTURE**: 実際のダメージを適用

### 3. リング縮小システム
- **3秒間隔の段階的縮小**: パフォーマンスを考慮
- **7つのフェーズ**: 各フェーズで異なるダメージレート
- **最終収縮**: リングサイズ0まで縮小

## テスト手順

### 1. プラグインのビルドとインストール
```bash
./gradlew clean build
# build/libs/minecraft_legends-1.0-SNAPSHOT-all.jar をサーバーのpluginsフォルダにコピー
```

### 2. サーバー起動とゲーム開始
```
/bradmin start
```

### 3. 視覚効果の確認
- [ ] WorldBorderの赤い壁が表示されるか
- [ ] 警告エフェクトが適切に表示されるか
- [ ] ボーダー通過時の視覚効果

### 4. ゲームモード別の動作確認

#### CREATIVE モード
```
/gamemode creative
```
- [ ] ボーダーを物理的に通過できるか
- [ ] ダメージを受けないか
- [ ] 警告メッセージが表示されるか（ActionBar）

#### SURVIVAL モード  
```
/gamemode survival
```
- [ ] ボーダーを物理的に通過できるか
- [ ] 適切なダメージを受けるか
- [ ] ダメージメッセージが表示されるか（ActionBar）

#### SPECTATOR モード
```
/gamemode spectator
```
- [ ] ボーダーを物理的に通過できるか
- [ ] ダメージを受けないか
- [ ] 警告メッセージが表示されるか

### 5. リング縮小の確認
- [ ] 3秒ごとに段階的に縮小するか
- [ ] 各フェーズの切り替わりが適切か
- [ ] 最終的にサイズ0まで縮小するか

### 6. ダメージレートの確認
各フェーズでのダメージ（HP/秒）:
- [ ] フェーズ1: 0.1 HP/秒
- [ ] フェーズ2: 0.2 HP/秒
- [ ] フェーズ3: 0.3 HP/秒
- [ ] フェーズ4: 0.5 HP/秒
- [ ] フェーズ5: 1.0 HP/秒
- [ ] フェーズ6: 2.0 HP/秒
- [ ] フェーズ7: 5.0 HP/秒

## 期待される動作

1. **全てのプレイヤーがボーダーを通過可能**
2. **視覚的には赤い壁として表示**
3. **ゲームモードに応じたダメージ処理**
4. **パフォーマンスへの影響が最小限**

## 注意事項

- WorldBorderプラグインのカスタム版は現在未使用
- Bukkit標準のWorldBorder APIのみを使用
- パーティクルエフェクトの追加は将来の拡張として検討

## デバッグコマンド

```
# 現在のWorldBorder情報を確認
/worldborder get

# 手動でボーダーサイズを変更（テスト用）
/worldborder set <サイズ>

# ダメージ量の確認（0であることを確認）
/worldborder damage amount
```